<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æœ¬è¦ªå­æ¢ç´¢ä¹‹æ—…ï¼šæ±äº¬ã€å¤§é˜ªã€äº¬éƒ½ã€å¥ˆè‰¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Stone, Teal, White) -->
    <!-- Application Structure Plan: A single-page, vertical timeline application. A sticky header with tab navigation allows users to jump to any of the 11 days. Each day is a section containing chronological event cards. This structure is intuitive for a time-based report like an itinerary, allowing for quick reference and detailed exploration. Key interactions include tab-based navigation and modals for viewing detailed information, including embedded maps and now, detailed transportation guides. -->
    <!-- Visualization & Content Choices: The primary visualization is a timeline-like card layout. Goal: Inform/Organize. Method: Structured HTML/CSS cards. Interaction: Click to open a modal. Justification: Clear and scannable. Modals now contain a dedicated "Transportation Guide" section for every travel event, using ordered lists for clarity. This enhances the practical usability of the itinerary. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #0d9488; /* teal-600 */
            color: white;
            font-weight: 600;
        }
        .modal-backdrop {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        .map-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            border-radius: 0.5rem;
        }
        .map-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <div id="app-container" class="max-w-7xl mx-auto">

        <header class="text-center py-8 px-4">
            <h1 class="text-4xl font-bold text-teal-700 tracking-tight">æ—¥æœ¬è¦ªå­æ¢ç´¢ä¹‹æ—…</h1>
            <p class="mt-2 text-lg text-stone-600">æ±äº¬ãƒ»å¤§é˜ªãƒ»äº¬éƒ½ãƒ»å¥ˆè‰¯ | 2025å¹´7æœˆ14æ—¥ - 7æœˆ24æ—¥</p>
        </header>

        <section id="overview" class="p-4 sm:p-6 bg-white rounded-2xl shadow-lg mb-8">
             <h2 class="text-2xl font-bold text-teal-700 mb-4 border-b-2 border-teal-200 pb-2">æ—…ç¨‹ç¸½è¦½èˆ‡æ ¸å¿ƒç­–ç•¥</h2>
             <div class="prose max-w-none text-stone-700">
                <h3 class="text-xl font-semibold text-stone-800">æ ¸å¿ƒäº¤é€šå»ºè­°</h3>
                <p><strong>ICå¡æ˜¯æ‚¨çš„æœ€ä½³å¤¥ä¼´</strong>ï¼šæ‚¨çš„è¡Œç¨‹æ©«è·¨å¤šç¨®äº¤é€šç³»çµ±ï¼ˆJRã€åœ°éµã€ç§éµï¼‰ï¼Œç‚ºäº†ç„¡ç¸«æ¥è»Œï¼Œå¼·çƒˆå»ºè­°æ‚¨èˆ‡å®¶äººå…¨ç¨‹ä½¿ç”¨<strong>Suica</strong>æˆ–<strong>Pasmo</strong>ç­‰äº¤é€šICå¡ï¼Œéš¨åˆ·éš¨é€²ï¼Œå…å»è³¼ç¥¨ç…©æƒ±ã€‚æ‚¨å¯ä»¥å°‡å¯¦é«”å¡ç‰‡åŠ åˆ°æ‰‹æ©Ÿçš„Apple Walletä¸­ï¼Œæ›´åŠ æ–¹ä¾¿ã€‚</p>
                <h3 class="text-xl font-semibold text-stone-800 mt-4">æ ¸å¿ƒç§»å‹•ç­–ç•¥ï¼šè»Šç«™ç½®ç‰©æ«ƒ</h3>
                <p>æœ¬æ¬¡è¡Œç¨‹ä¸æ¡ç”¨è¡Œæå®…é…æœå‹™ï¼Œæˆ‘å€‘å°‡ä»¥ã€Œ**å¤§å‹è»Šç«™ç½®ç‰©æ«ƒ**ã€ç‚ºæ ¸å¿ƒç­–ç•¥ï¼Œå¯¦ç¾è¼•è£æ—…è¡Œã€‚</p>
                <ul>
                    <li><strong>åŸ·è¡Œæ—¥</strong>ï¼šå°‡åœ¨ **7/17 (æ±äº¬è»Šç«™)** èˆ‡ **7/21 (äº¬éƒ½è»Šç«™)** å…©å€‹ç§»å‹•æ—¥åŸ·è¡Œæ­¤æ–¹æ¡ˆã€‚</li>
                    <li><strong>è²¼å¿ƒæé†’</strong>ï¼šå¤§å‹ç½®ç‰©æ«ƒæ•¸é‡æœ‰é™ï¼Œè«‹å‹™å¿…ææ—©è‡³è»Šç«™å¯„æ”¾ã€‚å»ºè­°ä½¿ç”¨ ICå¡æ”¯ä»˜ï¼Œæ–¹ä¾¿åˆå¿«é€Ÿã€‚</li>
                </ul>
             </div>
        </section>

        <nav id="day-nav" class="sticky top-0 z-10 bg-stone-100/80 backdrop-blur-md py-3 overflow-x-auto whitespace-nowrap shadow-sm mb-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div id="nav-buttons-container" class="flex space-x-2">
                </div>
            </div>
        </nav>

        <main id="itinerary-container" class="px-4">
        </main>

    </div>

    <div id="modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
        <div id="modal-backdrop" class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div id="modal-content" class="bg-white rounded-2xl shadow-xl w-11/12 max-w-2xl mx-auto z-10 transform scale-95 max-h-[90vh] overflow-y-auto">
            <div id="modal-body" class="p-6">
            </div>
            <div class="bg-stone-50 px-6 py-3 rounded-b-2xl text-right sticky bottom-0">
                <button id="modal-close-button" class="px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition">é—œé–‰</button>
            </div>
        </div>
    </div>


    <script>
        const itineraryData = [
            {
                day: 1, date: "7æœˆ14æ—¥ (æ—¥)", title: "å•Ÿç¨‹èˆ‡æŠµé”", city: "æ±äº¬",
                events: [
                    { time: "12:00", icon: "âœˆï¸", title: "å¾æ—å£å‡ºç™¼å‰å¾€æ©Ÿå ´", description: "å¾A9æ—å£ç«™æ­ä¹˜æ¡ƒåœ’æ©Ÿå ´æ·é‹è‡³A12æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆç«™ã€‚", details: { type: "transport", text: "ç­æ©Ÿç‚º15:30èµ·é£›ï¼Œå»ºè­°ææ—©å‡ºç™¼ï¼Œé ç•™å……è¶³æ™‚é–“è¾¦ç†ç™»æ©Ÿæ‰‹çºŒã€‚", transport: ["æ­ä¹˜æ¡ƒåœ’æ©Ÿå ´æ·é‹æ™®é€šè»Šæˆ–ç›´é”è»Šï¼Œç´„15åˆ†é˜å³å¯æŠµé”ç¬¬ä¸€èˆªå»ˆã€‚"], gmapLink: "https://maps.app.goo.gl/9q3i4G1fV3Z7Y2gC8", gmapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3615.541459048187!2d121.37039937602334!3d25.01569477782811!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a818c4c68831%3A0x67646a78d7459052!2z5qGD5ZyS5o6o6YGTIChBOTnlhLrmkYIp!5e0!3m2!1szh-TW!2stw!4v1718854817578!5m2!1szh-TW!2stw" } },
                    { time: "21:00", icon: "ğŸš†", title: "å¾æ©Ÿå ´å‰å¾€ä¸Šé‡", description: "æ­ä¹˜äº¬æˆé›»éµSkylinerå‰å¾€å¸‚å€ã€‚", details: { type: "transport", text: "Skylineræ˜¯å¾æˆç”°æ©Ÿå ´åˆ°ä¸Šé‡æœ€å¿«é€Ÿèˆ’é©çš„äº¤é€šæ–¹å¼ã€‚", transport: ["åœ¨æ©Ÿå ´B1çš„ã€Œäº¬æˆé›»éµå”®ç¥¨æ«ƒæª¯ã€å…Œæ›é è¨‚çš„Skylinerå¯¦é«”ç¥¨ä¸¦åŠƒä½ã€‚", "æ­ä¹˜Skylinerï¼Œç´„41åˆ†é˜å³å¯ç›´é”çµ‚é»ç«™<b>äº¬æˆä¸Šé‡ç«™</b>ã€‚", "å‡ºç«™å¾Œï¼Œæ­¥è¡Œç´„5-7åˆ†é˜å³å¯æŠµé”é£¯åº—ã€‚"], gmapLink: "https://maps.app.goo.gl/kM3h1R6F8J7n5P9G9", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.757827807755!2d139.7719601762494!3d35.70763562266851!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188e9508823269%3A0x684c98e75a3424d6!2z5Lqs5oiQ5LiK6YeO6aeF!5e0!3m2!1szh-TW!2stw!4v1718860265147!5m2!1szh-TW!2stw"}},
                    { time: "22:30", icon: "ğŸ¨", title: "å…¥ä½ä¸Šé‡çš‡å† å±±ä¸˜é«˜ç´šé…’åº—", description: "æŠµé”äº¬æˆä¸Šé‡ç«™å¾Œï¼Œæ­¥è¡Œå‰å¾€é£¯åº—è¾¦ç†å…¥ä½ã€‚", details: { type: "info", text: "åœ°å€: æ±äº¬éƒ½å°æ±åŒºä¸Šé‡2-13-1", image: "https://i.imgur.com/L1n7X4P.jpg", gmapLink: "https://maps.app.goo.gl/3G52rTeFpWnXfAwo6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.6943231952246!2d139.776906!3d35.7091391!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188e9f5cf9ea1b%3A0x3467963b0df998c0!2sHotel%20Crown%20Hills%20Ueno%20Premier!5e0!3m2!1szh-TW!2stw!4v1718854973347!5m2!1szh-TW!2stw" } }
                ]
            },
            {
                day: 2, date: "7æœˆ15æ—¥ (ä¸€)", title: "é­”æ³•èˆ‡ç§‘å­¸", city: "æ±äº¬",
                events: [
                    { time: "09:00", icon: "ğŸ›ï¸", title: "åœ‹ç«‹ç§‘å­¸åšç‰©é¤¨", description: "å¾é£¯åº—æ­¥è¡Œå‰å¾€ï¼Œä½æ–¼ä¸Šé‡å…¬åœ’å…§ã€‚", details: { type: "info", text: "è·é›¢JRä¸Šé‡ç«™å…¬åœ’å‡ºå£æ­¥è¡Œç´„5åˆ†é˜ã€‚å®˜ç¶²: https://www.kahaku.go.jp/english/", image: "https://i.imgur.com/9w3hJ4g.jpg", gmapLink: "https://maps.app.goo.gl/8v35q1X2j8KqZkM47", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.8160456578076!2d139.7745749762492!3d35.70617342267421!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188e9454acb633%3A0x3f187a5649b5025!2z5ZyL56uL56eR5a245Y2a54mp6IKy!5e0!3m2!1szh-TW!2stw!4v1718853580554!5m2!1szh-TW!2stw" } },
                    { time: "11:00", icon: "â¡ï¸", title: "å‰å¾€å“ˆåˆ©æ³¢ç‰¹å½±åŸ", description: "å¾ä¸Šé‡æ­ä¹˜é›»è»Šå‰å¾€è±å³¶åœ’ç«™ã€‚", details: {type: "transport", text:"ç¸½è»Šç¨‹ç´„35-40åˆ†é˜ã€‚", transport:[ "å¾<b>JRä¸Šé‡ç«™</b>æ­ä¹˜<b>JRå±±æ‰‹ç·š</b> (å¾€æ± è¢‹/æ–°å®¿æ–¹å‘)ã€‚", "åœ¨<b>JRæ± è¢‹ç«™</b>ä¸‹è»Š (è»Šç¨‹ç´„16åˆ†é˜)ã€‚", "è·Ÿéš¨ç«™å…§ã€Œè¥¿æ­¦ç·šã€æŒ‡ç¤ºç‰Œè½‰ä¹˜<b>è¥¿æ­¦è±å³¶ç·š</b>ã€‚", "åœ¨çµ‚é»ç«™<b>è±å³¶åœ’ç«™</b>ä¸‹è»Š (è»Šç¨‹ç´„17åˆ†é˜)ï¼Œå³å¯æŠµé”ã€‚" ], gmapLink: "https://maps.app.goo.gl/pM7K9L6rFqY5sH3S8", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d51842.17061719736!2d139.6631215443725!3d35.726581172605335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e3!4m5!1s0x60188e9508823269%3A0x684c98e75a3424d6!2z5Lqs5oiQ5LiK6YeO6aeF!3m2!1d35.707636!2d139.77196!4m5!1s0x6018edf292d73867%3A0x85ceba2d7e05669b!2z5p2x5Lqs6I-v57SN5YWE5byf5Z0I5Yip5r0i54m55b2x5Z-0!3m2!1d35.745187!2d139.645705!5e0!3m2!1szh-TW!2stw!4v1718864755866!5m2!1szh-TW!2stw"} },
                    { time: "12:30", icon: "ğŸŸï¸", title: "æ±äº¬å“ˆåˆ©æ³¢ç‰¹å½±åŸ", description: "12:30å…¥å ´ã€‚èº«æ­·å…¶å¢ƒæ¢ç´¢é›»å½±å¹•å¾Œï¼Œå®Œæ•´é«”é©—ç´„éœ€3-4å°æ™‚ã€‚", details: { type: "info", text: "åˆé¤å»ºè­°åœ¨å½±åŸå…§çš„é¤å»³è§£æ±ºï¼Œå®Œå…¨æ²‰æµ¸åœ¨é­”æ³•ä¸–ç•Œä¸­ã€‚", image: "https://i.imgur.com/yNf2a6e.jpg", gmapLink: "https://maps.app.goo.gl/Fv9CF2cK68CShMjt6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3238.2285313411417!2d139.6435159762511!3d35.74518732645761!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6018edf292d73867%3A0x85ceba2d7e05669b!2z5p2x5Lqs6I-v57SN5YWE5byf5Z0I5Yip5r0i54m55b2x5Z-0!5e0!3m2!1szh-TW!2stw!4v1718853488737!5m2!1szh-TW!2stw" } }
                ]
            },
            {
                day: 3, date: "7æœˆ16æ—¥ (äºŒ)", title: "æ–°èˆŠæ±äº¬çš„äº¤åŒ¯", city: "æ±äº¬",
                events: [
                    { time: "09:30", icon: "â¡ï¸", title: "å‰å¾€æ·ºè‰", description: "å¾ä¸Šé‡æ­ä¹˜åœ°éµå‰å¾€æ·ºè‰ã€‚", details: {type: "transport", text:"åƒæ‹œæ·ºè‰è§€éŸ³å¯ºï¼Œæ¼«æ­¥æ–¼ä»²è¦‹ä¸–å•†åº—è¡—ã€‚", transport:["å¾<b>æ±äº¬Metroä¸Šé‡ç«™ (G16)</b> æ­ä¹˜<b>éŠ€åº§ç·š</b> (å¾€æ·ºè‰æ–¹å‘)ã€‚", "åœ¨çµ‚é»ç«™<b>æ·ºè‰ç«™ (G19)</b> ä¸‹è»Š (è»Šç¨‹ç´„5åˆ†é˜)ã€‚"], gmapLink: "https://maps.app.goo.gl/9q9wN2T5cQ2X7YgR7", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.815553195286!2d139.79471887624922!3d35.70618582267431!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188ec1a4463df1%3A0x7c0d7ce229b103e3!2z5rWF6I235a-2!5e0!3m2!1szh-TW!2stw!4v1718853639918!5m2!1szh-TW!2stw" } },
                    { time: "13:00", icon: "â¡ï¸", title: "å‰å¾€æ™´ç©ºå¡”", description: "å¾æ·ºè‰å‰å¾€æ™´ç©ºå¡”ï¼Œå¯æ­è»Šæˆ–æ­¥è¡Œã€‚", details: {type: "transport", text:"ç™»ä¸Š350mçš„å¤©æœ›ç”²æ¿èˆ‡450mçš„å¤©æœ›è¿´å»Šï¼Œ360åº¦ä¿¯ç°æ±äº¬å…¨æ™¯ã€‚", transport:["<b>ã€é›»è»Šã€‘</b>å¾<b>æ±æ­¦æ·ºè‰ç«™</b>æ­ä¹˜<b>æ±æ­¦æ™´ç©ºå¡”ç·š</b>ï¼Œä¸€ç«™å³é”<b>æ±äº¬æ™´ç©ºå¡”ç«™</b> (ç´„3åˆ†é˜)ã€‚", "<b>ã€æ­¥è¡Œã€‘</b>æ²¿éš…ç”°å·æ­¥è¡Œç´„20åˆ†é˜ï¼Œå¯æ¬£è³æ²¿é€”é¢¨æ™¯èˆ‡æ™´ç©ºå¡”åˆå½±ã€‚"], image: "https://i.imgur.com/uVwFjMh.jpg", gmapLink: "https://maps.app.goo.gl/fC1c2gYc9j5GvNqG8", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.654889593207!2d139.8082301762495!3d35.7100670225793!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188ed0d12f9adf%3A0x7d1d4fb31f43f72a!2z5p2x5Lqs5pmL56m25aGU!5e0!3m2!1szh-TW!2stw!4v1718853698017!5m2!1szh-TW!2stw" }},
                    { time: "16:00", icon: "ğŸ‘¾", title: "å¯¶å¯å¤¢ä¸­å¿ƒ æ™´ç©ºå¡”åº—", description: "ä½æ–¼æ™´ç©ºå¡”åº•å±¤çš„ã€Œæ±äº¬æ™´ç©ºè¡—é“ã€å•†å ´æ±é¤¨4æ¨“ã€‚", details: { type: "info", text: "é€™è£¡è²©å”®è¨±å¤šæ™´ç©ºå¡”é™å®šå•†å“ï¼Œæ˜¯å¯¶å¯å¤¢è¿·çš„æœè–åœ°ã€‚å®˜ç¶²: https://www.pokemon.co.jp/shop/pokecen/skytreetown/", image: "https://i.imgur.com/5c8g9fL.jpg", gmapLink: "https://maps.app.goo.gl/fC1c2gYc9j5GvNqG8", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.654889593207!2d139.8082301762495!3d35.7100670225793!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188ed0d12f9adf%3A0x7d1d4fb31f43f72a!2z5p2x5Lqs5pmL56m25aGU!5e0!3m2!1szh-TW!2stw!4v1718853698017!5m2!1szh-TW!2stw"}}
                ]
            },
            {
                day: 4, date: "7æœˆ17æ—¥ (ä¸‰)", title: "æ±äº¬è½‰å ´ï¼Œå¤œè¡Œé—œè¥¿", city: "æ±äº¬",
                events: [
                    { time: "09:00", icon: "â¡ï¸", title: "å‰å¾€æ±äº¬è»Šç«™", description: "å¾ä¸Šé‡æ­ä¹˜JRå‰å¾€æ±äº¬è»Šç«™ï¼Œå¯„æ”¾è¡Œæã€‚", details: {type: "transport", text:"æ±äº¬è»Šç«™å…§å¤§å‹ç½®ç‰©æ«ƒçœ¾å¤šï¼Œæ¨è–¦åœ¨B1å±¤çš„ä¸¸ä¹‹å…§åœ°ä¸‹ä¸­å¤®å£æˆ–ç¸½æ­¦ç·šåœ°ä¸‹æœˆå°è¯çµ¡é€šé“å°‹æ‰¾ã€‚", transport:["å¾<b>JRä¸Šé‡ç«™</b>æ­ä¹˜<b>JRå±±æ‰‹ç·š</b> æˆ– <b>JRäº¬æ¿±æ±åŒ—ç·š</b> (å¾€æ±äº¬/å“å·æ–¹å‘)ã€‚", "ç´„5-8åˆ†é˜å³å¯æŠµé”<b>æ±äº¬è»Šç«™</b>ã€‚"], gmapLink: "https://maps.app.goo.gl/8h7a2kX7B8m6b8sY7", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6481.716382022883!2d139.7621438935791!3d35.680456000000005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188bfbd89f700b%3A0x277c49ba34ed38!2z5p2x5Lqs6aeF!5e0!3m2!1szh-TW!2stw!4v1718855146860!5m2!1szh-TW!2stw"}},
                    { time: "11:00", icon: "ğŸ›ï¸", title: "æ±äº¬è»Šç«™ä¸€ç•ªè¡—æ¢ç´¢", description: "åœ¨è»Šç«™åœ°ä¸‹çš„ã€Œæ±äº¬å‹•æ¼«äººç‰©è¡—ã€èˆ‡ã€Œæ±äº¬æ‹‰éºµè¡—ã€æ¢ç´¢ã€‚", details: { type: "info", text: "åˆé¤å¯åœ¨æ‹‰éºµè¡—è§£æ±ºï¼Œé¸æ“‡ä¸€å®¶æ’éšŠååº—æŒ‘æˆ°çœ‹çœ‹ï¼", gmapLink: "https://maps.app.goo.gl/B9Z2J6vK9p5m5h7G7", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3240.838531278187!2d139.7656606762483!3d35.68102142279269!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188bf9a896843f%3A0x8e12953244853a51!2z5p2x5Lqs6aeF5LiA55Wl6KGX!5e0!3m2!1szh-TW!2stw!4v1718858850625!5m2!1szh-TW!2stw"} },
                    { time: "18:00", icon: "ğŸ›", title: "éŒ¢æ¹¯é«”é©—ï¼šæ¹Šæ¹¯", description: "å¾æ±äº¬è»Šç«™æ­è»Šå‰å¾€ã€Œæ¹Šæ¹¯ã€ï¼Œæ´—å»ç–²æ†Šï¼Œç‚ºå¤œå·´åšæº–å‚™ã€‚", details: { type: "transport", text: "æ¹Šæ¹¯æ˜¯ç¾ä»£é¢¨æ ¼çš„è¨­è¨ˆå¸«éŒ¢æ¹¯ã€‚åœ°å€: æ±äº¬éƒ½ä¸­å¤®åŒºæ¹Š1-6-2", transport:["å¾<b>JRæ±äº¬è»Šç«™</b>æ­ä¹˜<b>JRäº¬è‘‰ç·š</b> (å¾€è˜‡æˆ‘æ–¹å‘)ã€‚", "ä¸‹ä¸€ç«™å³æ˜¯<b>å…«ä¸å €ç«™</b> (è»Šç¨‹ç´„2åˆ†é˜)ã€‚", "å‡ºç«™å¾Œæ­¥è¡Œç´„5åˆ†é˜å³å¯æŠµé”æ¹Šæ¹¯ã€‚"], gmapLink: "https://maps.app.goo.gl/5qj2kQ4wY7e3V6tP8", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.442192115115!2d139.7791837762477!3d35.6662459725955!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6018896388901869%3A0x897253285535f49!2z5æ¹ŠÃ¦-Â¯!5e0!3m2!1szh-TW!2stw!4v1718853982191!5m2!1szh-TW!2stw" } },
                    { time: "21:00", icon: "ğŸšŒ", title: "æ­ä¹˜å¤œé–“å·´å£«", description: "è¿”å›æ±äº¬è»Šç«™å–è¡Œæï¼Œå‰å¾€ä½æ–¼æ±äº¬ä¸­åŸå…«é‡æ´²åœ°ä¸‹äºŒæ¨“çš„å·´å£«ç¸½ç«™ã€‚21:40æ­ä¹˜WILLER EXPRESSå‰å¾€å¤§é˜ªã€‚", details: { type: "info", text: "å·´å£«ç«™é»ï¼šBus Terminal Tokyo Yaesu", gmapLink: "https://maps.app.goo.gl/vJsuPxdLVWk5T1TQ6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3240.8808565625513!2d139.76711790523797!3d35.67993555529624!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188b0dfb40b7ed%3A0xecaac23581109dfc!2z5p2x5Lqs5Lit5Z-05YWr6YeN5rSy!5e0!3m2!1szh-TW!2stw!4v1718853821869!5m2!1szh-TW!2stw" } }
                ]
            },
            {
                day: 5, date: "7æœˆ18æ—¥ (å››)", title: "USJå…¨æ—¥ç‹‚æ­¡", city: "å¤§é˜ª",
                events: [
                    { time: "07:15", icon: "ğŸ¢", title: "æ—¥æœ¬ç’°çƒå½±åŸ", description: "å·´å£«æŠµé”USJï¼Œå…ˆåœ¨åœ’å€å¤–å¯„æ”¾è¡Œæä¸¦äº«ç”¨æ—©é¤ã€‚", details: { type: "info", text: "USJå…¥å£å¤–åŠJRç«™å‡è¨­æœ‰å¤§å‹ç½®ç‰©æ«ƒã€‚", gmapLink: "https://maps.app.goo.gl/mEwEa7Q5p8yA6eR97", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3281.3833566666665!2d135.432333376211!3d34.6703333729291!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e0d5a7d65495%3A0x1c8136371891b93!2z5pel5p2x55Cq55CG5b2x5Z-0!5e0!3m2!1szh-TW!2stw!4v1718855325881!5m2!1szh-TW!2stw" } },
                    { time: "19:00", icon: "ğŸ¨", title: "å…¥ä½å¤§é˜ªå…¬åœ’å‰ç·šé…’åº—", description: "éŠç©çµæŸå¾Œï¼Œå…¥ä½USJæ­£å°é¢çš„é£¯åº—ã€‚", details: {type: "info", text: "The Park Front Hotel at Universal Studios Japanâ„¢ï¼Œæ­¥è¡Œè‡³åœ’å€åƒ…éœ€1åˆ†é˜ã€‚", gmapLink: "https://maps.app.goo.gl/tUcnQ8v2E4p4ZzHPA", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3281.411651811561!2d135.43440627621102!3d34.66961447292945!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e0d5e160e1d1%3A0xd3f27f05e04a7c13!2z5pel5p2x55Cq55CG5b2x5Z-05YWs5ZyS5YmN57ea6YGT5bqX!5e0!3m2!1szh-TW!2stw!4v1718855395254!5m2!1szh-TW!2stw"}},
                    { time: "20:00", icon: "ğŸ™", title: "æ™šé¤ï¼šç« é­šç‡’åšç‰©é¤¨", description: "åœ¨Universal CityWalkçš„ã€Œå¤§é˜ªç« é­šç‡’åšç‰©é¤¨(TAKOPA)ã€ä¸€æ¬¡å“åšå¤šå®¶ååº—çš„ç« é­šç‡’ã€‚", details: { type: "info", text: "ä½æ–¼é£¯åº—èˆ‡è»Šç«™ä¹‹é–“ï¼Œæ­¥è¡Œå³å¯æŠµé”ã€‚", gmapLink: "https://maps.app.goo.gl/tQk1zM8kS2G5Yj5r5", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3281.442973167448!2d135.43615587621095!3d34.66883237293005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e0d503254553%3A0xe5a864d06a457a41!2sUniversal%20CityWalk%20Osaka!5e0!3m2!1szh-TW!2stw!4v1718855474343!5m2!1szh-TW!2stw" }}
                ]
            },
            {
                day: 6, date: "7æœˆ19æ—¥ (äº”)", title: "å¤§é˜ªæµ·æ¸¯èˆ‡ç¾é£Ÿ", city: "å¤§é˜ª",
                events: [
                    { time: "09:30", icon: "â¡ï¸", title: "å‰å¾€å¤§é˜ªæµ·éŠé¤¨", description: "å¾USJå€åŸŸæ­ä¹˜é›»è»Šå‰å¾€æµ·éŠé¤¨ã€‚", details: { type: "transport", text:"åƒè§€ä¸–ç•Œæœ€å¤§ç´šåˆ¥çš„æ°´æ—é¤¨ï¼Œèˆ‡é¯¨é¯Šç›¸é‡ã€‚", transport:[ "å¾<b>JRç’°çƒå½±åŸç«™</b>æ­ä¹˜<b>JRå¤¢å’²ç·š</b>è‡³<b>è¥¿ä¹æ¢ç«™</b>ã€‚", "åœ¨è¥¿ä¹æ¢ç«™è½‰ä¹˜<b>é˜ªç¥é›£æ³¢ç·š</b>è‡³<b>ä¹æ¢ç«™</b>ã€‚", "å†è½‰ä¹˜<b>Osaka Metroä¸­å¤®ç·š</b>è‡³<b>å¤§é˜ªæ¸¯ç«™</b> (è»Šç¨‹ç´„30-35åˆ†é˜)ã€‚", "å‡ºç«™å¾Œæ­¥è¡Œç´„5åˆ†é˜å³å¯æŠµé”ã€‚"], image: "https://i.imgur.com/YxV8a9s.jpg", gmapLink: "https://maps.app.goo.gl/7N9P4Vz4sX5YwX9Y8", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3282.251941659902!2d135.42674987621028!3d34.64850727293774!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e702e8e91e77%3A0x26955a58a69a4051!2z5aSn6Ziq5rWc6YGT6aCt!5e0!3m2!1szh-TW!2stw!4v1718854084050!5m2!1szh-TW!2stw" }},
                    { time: "14:30", icon: "â¡ï¸", title: "å‰å¾€å¤§é˜ªåŸ", description: "å¾æµ·éŠé¤¨å€åŸŸæ­ä¹˜åœ°éµå‰å¾€å¤§é˜ªåŸã€‚", details: { type: "transport", text:"åƒè§€å¤§é˜ªçš„æ­·å²è±¡å¾µï¼Œå®å‰çš„å¤©å®ˆé–£ã€‚", transport:["å¾<b>å¤§é˜ªæ¸¯ç«™</b>æ­ä¹˜<b>Osaka Metroä¸­å¤®ç·š</b>ã€‚", "åœ¨<b>è°·ç”ºå››ä¸ç›®ç«™</b>ä¸‹è»Š (è»Šç¨‹ç´„15åˆ†é˜)ã€‚", "å‡ºç«™å¾Œæ­¥è¡Œç´„15-20åˆ†é˜å³å¯æŠµé”å¤©å®ˆé–£ã€‚"], image: "https://i.imgur.com/uQ8tV8t.jpg", gmapLink: "https://maps.app.goo.gl/R5e8qJ6vY6S3f9G69", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3280.933333333333!2d135.526666676211!3d34.6816666729246!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e71665972403%3A0x23a372134553255a!2z5aSn6Ziq5Z-O!5e0!3m2!1szh-TW!2stw!4v1718854153926!5m2!1szh-TW!2stw" } },
                    { time: "18:00", icon: "â¡ï¸", title: "å‰å¾€é“é “å €", description: "å…¥ä½æ–°é£¯åº—å¾Œï¼Œå‰å¾€é“é “å €ï¼Œæ²‰æµ¸åœ¨éœ“è™¹ç‡ˆæµ·ä¸­ã€‚", details: { type: "transport", text: "å¾å¤§é˜ªåŸæ­åœ°éµå‰å¾€é›£æ³¢ç«™ã€‚", transport:["å¾<b>è°·ç”ºå››ä¸ç›®ç«™</b>æ­ä¹˜<b>Osaka Metroè°·ç”ºç·š</b>æˆ–<b>ä¸­å¤®ç·š</b>è½‰<b>å¾¡å ‚ç­‹ç·š</b>ã€‚", "åœ¨<b>é›£æ³¢ç«™</b>ä¸‹è»Šï¼Œå‡ºç«™å³æ˜¯é“é “å €å€åŸŸã€‚"], gmapLink: "https://maps.app.goo.gl/eGAmh2o9Qj7f9pXf7", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3281.3833566666665!2d135.500833376211!3d34.6703333729291!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e7144ab91e31%3A0x49a9525455642263!2z6YGT6aCt5a-2!5e0!3m2!1szh-TW!2stw!4v1718854316987!5m2!1szh-TW!2stw" }}
                ]
            },
            {
                day: 7, date: "7æœˆ20æ—¥ (å…­)", title: "äº¬éƒ½é›»å½±èˆ‡æ­¦å£«é­‚", city: "äº¬éƒ½",
                events: [
                    { time: "09:00", icon: "â¡ï¸", title: "å¾å¤§é˜ªç§»å‹•è‡³äº¬éƒ½", description: "å¾å¤§é˜ªæ­ä¹˜JRå‰å¾€äº¬éƒ½ï¼Œå…ˆè‡³é£¯åº—å¯„æ”¾è¡Œæã€‚", details:{type:"transport", text:"JRæ–°å¿«é€Ÿåˆ—è»Šæ˜¯æœ€ä¾¿æ·çš„é¸æ“‡ã€‚", transport:[ "å¾æ‚¨é£¯åº—é™„è¿‘çš„è»Šç«™æ­ä¹˜<b>Osaka Metroå¾¡å ‚ç­‹ç·š</b>è‡³<b>æ¢…ç”°ç«™</b>ã€‚", "æ­¥è¡Œè‡³<b>JRå¤§é˜ªç«™</b>ã€‚", "æ­ä¹˜<b>JRäº¬éƒ½ç·šæ–°å¿«é€Ÿ</b>åˆ—è»Šï¼Œç´„29åˆ†é˜ç›´é”<b>JRäº¬éƒ½ç«™</b>ã€‚" ], gmapLink:"https://maps.app.goo.gl/dJ7B6K8qFp9wN3yH9", gmapEmbed:"https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d104595.39912534571!2d135.5786417758764!3d34.84534720993078!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e3!4m5!1s0x6000e68d95e3a70b%3A0xf9559f7707a759e4!2z5aSn6Ziq6aeF!3m2!1d34.7024854!2d135.4959506!4m5!1s0x600108ae91357e63%3A0x19999741031c19b4!2z5Lqs6YO96aeF!3m2!1d34.985849!2d135.758767!5e0!3m2!1szh-TW!2stw!4v1718865103043!5m2!1szh-TW!2stw"}},
                    { time: "10:30", icon: "â¡ï¸", title: "å‰å¾€æ±æ˜ å¤ªç§¦æ˜ ç•«æ‘", description: "å¾äº¬éƒ½è»Šç«™æ­ä¹˜JRå‰å¾€ã€‚", details: { type: "transport", text: "é«”é©—æ—¥æœ¬æ™‚ä»£åŠ‡çš„ä¸–ç•Œã€‚", transport:["åœ¨<b>JRäº¬éƒ½ç«™</b>çš„31-33è™Ÿæœˆå°æ­ä¹˜<b>JRåµ¯å³¨é‡ç·š (å±±é™°æœ¬ç·š)</b>ã€‚", "åœ¨<b>å¤ªç§¦ç«™</b>ä¸‹è»Š (è»Šç¨‹ç´„16åˆ†é˜)ã€‚", "å‡ºç«™å¾Œæ­¥è¡Œç´„5åˆ†é˜å³å¯æŠµé”ã€‚"], image: "https://i.imgur.com/2U2j2oF.jpg", gmapLink: "https://maps.app.goo.gl/Wq4i4R7wA8q9Zk2G6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.049333333333!2d135.706666676223!3d35.00583337281666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6001078700000001%3A0x9755a2e37339b30!2z5p2x5Lqs5aSq5aSq5pys5L-d5p2x5Lqs5p2x5Lqs!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" } },
                    { time: "15:00", icon: "â¡ï¸", title: "å‰å¾€æ­¦å£«èˆ‡å¿è€…åšç‰©é¤¨", description: "å¾æ˜ ç•«æ‘æ­ä¹˜é›»è»Šå‰å¾€å¸‚å€ã€‚", details: { type: "transport", text: "äº’å‹•å¼é«”é©—ï¼Œç©¿æˆ´æ­¦å£«ç›”ç”²ã€å­¸ç¿’åŠè¡“ã€æŠ•æ“²æ‰‹è£åŠã€‚", transport:[ "å¾<b>JRå¤ªç§¦ç«™</b>æ­ä¹˜<b>JRåµ¯å³¨é‡ç·š</b>è¿”å›<b>äºŒæ¢ç«™</b>ã€‚", "åœ¨äºŒæ¢ç«™è½‰ä¹˜<b>äº¬éƒ½å¸‚ç‡Ÿåœ°ä¸‹éµæ±è¥¿ç·š</b>ã€‚", "åœ¨<b>äº¬éƒ½å¸‚å½¹æ‰€å‰ç«™</b>ä¸‹è»Šï¼Œæ­¥è¡Œç´„5-7åˆ†é˜å³å¯æŠµé”ã€‚"], image: "https://i.imgur.com/fJgY5hW.jpg", gmapLink: "https://maps.app.goo.gl/bW5p2i6kL9Qj8s7F6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.077673587844!2d135.7656118762232!3d35.00508547281692!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6001088d083818e1%3A0xe54d6e962b92f703!2z5q2m5aOr44Go5bK56ICF5Y2a54mp6IKyKGZyb20gKYleY2suaW5mbyk!5e0!3m2!1szh-TW!2stw!4v1718859187315!5m2!1szh-TW!2stw" }}
                ]
            },
            {
                day: 8, date: "7æœˆ21æ—¥ (æ—¥)", title: "å¥ˆè‰¯ç¥é¹¿èˆ‡å¤œæ­¸", city: "äº¬éƒ½/å¥ˆè‰¯",
                events: [
                    { time: "08:30", icon: "ğŸ§³", title: "é€€æˆ¿ & è¡Œæå¯„æ”¾", description: "è¾¦ç†é€€æˆ¿ï¼Œå‰å¾€äº¬éƒ½è»Šç«™ï¼Œå°‡å¤§ä»¶è¡Œæå­˜å…¥å¤§å‹ç½®ç‰©æ«ƒã€‚", details:{type:"info", text:"å…«æ¡å£é™„è¿‘æœ‰å……è¶³çš„å¤§å‹ç½®ç‰©æ«ƒã€‚", gmapLink:"https://maps.app.goo.gl/uR4P7tN3mQ3rY5sDA", gmapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.63600994968!2d135.7584166762228!3d34.99046797281105!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x600108ae91357e63%3A0x19999741031c19b4!2z5Lqs6YO96aeF!5e0!3m2!1szh-TW!2stw!4v1718865243167!5m2!1szh-TW!2stw"}},
                    { time: "09:30", icon: "â¡ï¸", title: "å‰å¾€å¥ˆè‰¯", description: "å¾äº¬éƒ½è»Šç«™æ­ä¹˜è¿‘éµé›»è»Šå‰å¾€å¥ˆè‰¯ã€‚", details: {type:"transport", text:"è¿‘éµå¥ˆè‰¯ç«™æ¯”JRå¥ˆè‰¯ç«™æ›´é è¿‘å¥ˆè‰¯å…¬åœ’æ ¸å¿ƒæ™¯å€ã€‚", transport:["å¾äº¬éƒ½è»Šç«™çš„è¿‘éµæœˆå°æ­ä¹˜<b>è¿‘éµäº¬éƒ½ç·š(æ€¥è¡Œ)</b>åˆ—è»Šã€‚", "ç´„45-50åˆ†é˜å³å¯ç›´é”<b>è¿‘éµå¥ˆè‰¯ç«™</b>ã€‚"], gmapLink:"https://maps.app.goo.gl/9D4JpX7M7N2rF7pA6", gmapEmbed:"https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d104710.43577317737!2d135.7275727931652!3d34.83296053337962!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e3!4m5!1s0x600108ae91357e63%3A0x19999741031c19b4!2z5Lqs6YO96aeF!3m2!1d34.985849!2d135.758767!4m5!1s0x6001398000000001%3A0x9755a2e37339b30!2z5Lqs6YO96LGG6Imv6aeF!3m2!1d34.681667!2d135.836667!5e0!3m2!1szh-TW!2stw!4v1718865324707!5m2!1szh-TW!2stw"}},
                    { time: "10:30", icon: "ğŸŒ³", title: "å¥ˆè‰¯å…¬åœ’ & æ±å¤§å¯º", description: "èˆ‡æº«é¦´çš„é¹¿ç¾¤äº’å‹•ï¼Œåƒè§€å®å‰çš„æ±å¤§å¯ºå¤§ä½›æ®¿ã€‚", details: { type: "info", text: "å¯ä»¥è³¼è²·é¹¿ä»™è²é¤µé£Ÿé¹¿ç¾¤ï¼Œä½†è«‹æ³¨æ„å®‰å…¨ã€‚", image: "https://i.imgur.com/nZ2X3yH.jpg", gmapLink: "https://maps.app.goo.gl/cT7p4J7h5X6YwX9Y6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.049333333333!2d135.836666676223!3d34.68166667281666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6001398000000001%3A0x9755a2e37339b30!2z5aWI6Imv5YWs5ZyS!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" }},
                    { time: "16:00", icon: "ğŸ›", title: "è¿”å›äº¬éƒ½ & éŒ¢æ¹¯é«”é©—", description: "è¿”å›äº¬éƒ½è»Šç«™ï¼Œå‰å¾€è»Šç«™é™„è¿‘çš„ã€Œå¤§æ­£æ¹¯ã€æ²æµ´ã€‚", details: { type: "transport", text: "å¤§æ­£æ¹¯æ˜¯å¤œå·´ä¹˜å®¢çš„å¥½å¤¥ä¼´ï¼Œè·é›¢å…«æ¡å£åƒ…4åˆ†é˜æ­¥è¡Œè·¯ç¨‹ã€‚", transport:["å¾<b>è¿‘éµå¥ˆè‰¯ç«™</b>æ­ä¹˜<b>è¿‘éµäº¬éƒ½ç·š(æ€¥è¡Œ)</b>è¿”å›<b>äº¬éƒ½è»Šç«™</b>ã€‚"], gmapLink: "https://maps.app.goo.gl/L9R7hXjE4v8G3Xm86", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.618635836262!2d135.7570857762228!3d34.99092497281084!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x600108ae91357e63%3A0x19999741031c19b4!2z5aSn5q2p5rmv!5e0!3m2!1szh-TW!2stw!4v1718855660601!5m2!1szh-TW!2stw" } },
                    { time: "22:30", icon: "ğŸšŒ", title: "æ­ä¹˜å¤œé–“å·´å£«", description: "å–å›è¡Œæï¼Œå‰å¾€äº¬éƒ½ç«™å…«æ¡å£å·´å£«ä¹˜é™å ´ã€‚23:00æ­ä¹˜SAKURAè§€å…‰å·´å£«è¿”å›æ±äº¬ã€‚", details: { type: "info", text: "ä¹˜è»Šåœ°é»ï¼šJRäº¬éƒ½ç«™ å…«æ¡å£è§€å…‰å·´å£«ä¹˜é™è™•(Avantiå‰)", gmapLink: "https://maps.app.goo.gl/53X5h7vW8zY5kM478", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.63600994968!2d135.7584166762228!3d34.99046797281105!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x600108ae89b0351d%3A0x3344b36c4f46844f!2zS1lPVE8gQVZBTlRJ!5e0!3m2!1szh-TW!2stw!4v1718855734346!5m2!1szh-TW!2stw" } }
                ]
            },
            {
                day: 9, date: "7æœˆ22æ—¥ (ä¸€)", title: "å‹•æ¼«è–åœ°å·¡ç¦®", city: "æ±äº¬",
                events: [
                    { time: "06:00", icon: "â¡ï¸", title: "å¾æ± è¢‹å‰å¾€ä¸Šé‡", description: "å·´å£«æŠµé”æ± è¢‹å¾Œï¼Œå…ˆæ­JRå±±æ‰‹ç·šè‡³ä¸Šé‡ï¼Œå‰å¾€é£¯åº—å¯„æ”¾è¡Œæã€‚", details:{type:"transport", text:"å·´å£«æŠµé”é»ç‚ºæ± è¢‹å¤ªé™½åŸæ–‡åŒ–æœƒé¤¨ã€‚", transport:["å¾<b>JRæ± è¢‹ç«™</b>æ­ä¹˜<b>JRå±±æ‰‹ç·š</b> (å¾€ä¸Šé‡/æ±äº¬æ–¹å‘)ã€‚", "ç´„16åˆ†é˜å³å¯æŠµé”<b>JRä¸Šé‡ç«™</b>ã€‚"], gmapLink: "https://maps.app.goo.gl/u5K8wZ9Y6X7vS3f9G", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.3666666666667!2d139.718333376249!3d35.7175!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188d67c52a057d%3A0x6b7728362678855a!2z5aSq6Zm95Z-O!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" }},
                    { time: "10:00", icon: "â¡ï¸", title: "å‰å¾€æ± è¢‹å¤ªé™½åŸ", description: "å¾ä¸Šé‡å†æ¬¡æ­è»Šå‰å¾€æ± è¢‹ï¼Œä¸»æ”»å¯¶å¯å¤¢ä¸­å¿ƒMEGA TOKYOèˆ‡NAMJATOWNã€‚", details: { type: "transport", text: "åˆé¤å¯åœ¨å¤ªé™½åŸå…§çš„é¤å»³è§£æ±ºã€‚", transport:["å¾<b>JRä¸Šé‡ç«™</b>æ­ä¹˜<b>JRå±±æ‰‹ç·š</b> (å¾€æ± è¢‹/æ–°å®¿æ–¹å‘)ã€‚", "ç´„16åˆ†é˜å³å¯æŠµé”<b>JRæ± è¢‹ç«™</b>ã€‚", "å¾è»Šç«™æ±å£æ­¥è¡Œç´„8åˆ†é˜å¯é”å¤ªé™½åŸã€‚"], image: "https://i.imgur.com/5c8g9fL.jpg", gmapLink: "https://maps.app.goo.gl/u5K8wZ9Y6X7vS3f9G", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.3666666666667!2d139.718333376249!3d35.7175!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188d67c52a057d%3A0x6b7728362678855a!2z5aSq6Zm95Z-O!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" } },
                    { time: "16:30", icon: "â¡ï¸", title: "å‰å¾€ç§‹è‘‰åŸ", description: "å¾ä¸Šé‡æ­è»Šå‰å¾€å‹•æ¼«èˆ‡é›»ç©å¤©å ‚ã€‚", details: { type: "transport", text: "é«”é©—å¤§å‹é›»ç©ä¸­å¿ƒã€æ‰­è›‹æœƒé¤¨ã€‚", transport:["å¾<b>JRä¸Šé‡ç«™</b>æ­ä¹˜<b>JRå±±æ‰‹ç·š</b>æˆ–<b>JRäº¬æ¿±æ±åŒ—ç·š</b> (å¾€æ±äº¬/å“å·æ–¹å‘)ã€‚", "ç´„4åˆ†é˜å³å¯æŠµé”<b>ç§‹è‘‰åŸç«™</b>ã€‚"], gmapLink: "https://maps.app.goo.gl/yL9X8wV6zX7vS3f9G", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3240.2666666666667!2d139.771666676249!3d35.695!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188c1d00000001%3A0x9755a2e37339b30!2z56eB6JGJ5Y6f6Zu75ZCI6KGX!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" }}
                ]
            },
            {
                day: 10, date: "7æœˆ23æ—¥ (äºŒ)", title: "ç¶“å…¸é«˜å¡”èˆ‡å¯¶å¯å¤¢", city: "æ±äº¬",
                 events: [
                    { time: "10:00", icon: "â¡ï¸", title: "å‰å¾€æ±äº¬éµå¡”", description: "å¾ä¸Šé‡æ­ä¹˜åœ°éµå‰å¾€æ±äº¬éµå¡”ã€‚", details: { type: "transport", text: "å‰å¾€æ±äº¬çš„ç¶“å…¸åœ°æ¨™ï¼Œæ¬£è³åŸå¸‚é¢¨å…‰ã€‚", transport:[ "å¾<b>ä¸Šé‡ç«™ (H18)</b>æ­ä¹˜<b>æ±äº¬Metroæ—¥æ¯”è°·ç·š</b>ã€‚", "åœ¨<b>ç¥è°·ç”ºç«™ (H05)</b>ä¸‹è»Š (è»Šç¨‹ç´„18åˆ†é˜)ã€‚", "å¾1è™Ÿå‡ºå£æ­¥è¡Œç´„7åˆ†é˜å³å¯æŠµé”ã€‚"], image: "https://i.imgur.com/kP1pC9t.jpg", gmapLink: "https://maps.app.goo.gl/jL3Z9wY5X6YwX9Y6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.6666666666667!2d139.745!3d35.65833337259666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188b0d00000001%3A0x9755a2e37339b30!2z5p2x5Lqs6YGL5aGU!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" } },
                    { time: "14:00", icon: "ğŸ‘¾", title: "å¯¶å¯å¤¢å¡ç‰Œç«™ æ±äº¬éµå¡”åº—", description: "ä½æ–¼æ±äº¬éµå¡”Foot Townä¸€æ¨“ï¼Œæ­¥è¡Œå³å¯ã€‚", details: { type: "info", text: "é›–ç„¶è¦æ¨¡ä¸å¤§ï¼Œä½†å¯ä»¥æ‰¾åˆ°ä¸€äº›å¡ç‰Œç›¸é—œå•†å“ï¼Œä¸¦å¯èƒ½åƒèˆ‡å°æˆ°æ´»å‹•ã€‚", gmapLink: "https://maps.app.goo.gl/jL3Z9wY5X6YwX9Y6", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.6666666666667!2d139.745!3d35.65833337259666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188b0d00000001%3A0x9755a2e37339b30!2z5p2x5Lqs6YGL5aGU!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" }},
                    { time: "16:00", icon: "ğŸŒ³", title: "èŠå…¬åœ’æ•£æ­¥", description: "åœ¨æ±äº¬éµå¡”æ—çš„èŠå…¬åœ’æ‚ é–’æ•£æ­¥ï¼Œé€™è£¡æ˜¯æ‹æ”éµå¡”å…¨æ™¯çš„æœ€ä½³åœ°é»ä¹‹ä¸€ã€‚", details: { type: "info", text: "å¾æ±äº¬éµå¡”æ­¥è¡Œå³å¯æŠµé”ï¼Œæ˜¯æ—¥æœ¬æœ€å¤è€çš„å…¬åœ’ä¹‹ä¸€ã€‚", gmapLink: "https://maps.app.goo.gl/bH4N2o9Qj7f9pXf7", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.6666666666667!2d139.748333376248!3d35.65833337259666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188b0d00000001%3A0x9755a2e37339b30!2z6Iqx5YWs5ZyS!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" } }
                ]
            },
            {
                day: 11, date: "7æœˆ24æ—¥ (ä¸‰)", title: "æœ€å¾Œå·¡ç¦®èˆ‡æ­¸é€”", city: "æ±äº¬",
                events: [
                    { time: "10:00", icon: "ğŸ›ï¸", title: "é˜¿ç¾æ©«ä¸æ¡è³¼", description: "é€€æˆ¿å¾Œå°‡è¡Œæå¯„æ”¾åœ¨ä¸Šé‡è»Šç«™ç½®ç‰©æ«ƒã€‚åœ¨é˜¿ç¾æ©«ä¸é€²è¡Œæœ€å¾Œçš„è—¥å¦ã€é›¶é£Ÿæ¡è³¼ã€‚", details: { type: "info", text: "å¾é£¯åº—æ­¥è¡Œå³å¯æŠµé”ï¼Œæ˜¯æ„Ÿå—åœ¨åœ°å¸‚å ´æ°›åœã€è³¼è²·ä¼´æ‰‹ç¦®çš„å¥½åœ°æ–¹ã€‚", gmapLink: "https://maps.app.goo.gl/L9nZ8wV6zX7vS3f9G", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3240.0!2d139.771666676249!3d35.70333337258333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188c1d00000001%3A0x9755a2e37339b30!2z6Zi_576O5qiq5LiT!5e0!3m2!1szh-TW!2stw!4v1718854398765!5m2!1szh-TW!2stw" }},
                    { time: "16:30", icon: "â¡ï¸", title: "å‰å¾€æˆç”°æ©Ÿå ´", description: "è¿”å›ä¸Šé‡è»Šç«™å–è¡Œæï¼Œå¾äº¬æˆä¸Šé‡ç«™æ­ä¹˜Skylinerå‰å¾€æ©Ÿå ´ã€‚", details: {type:"transport", text:"Skylineræ˜¯æœ€å¿«æœ€èˆ’é©çš„é¸æ“‡ï¼Œæº–å‚™æ­æ©Ÿè¿”å®¶ã€‚", transport:["å¾<b>äº¬æˆä¸Šé‡ç«™</b>æ­ä¹˜<b>Skyliner</b>ã€‚", "ç´„44åˆ†é˜å³å¯ç›´é”æˆç”°æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆã€‚"], gmapLink: "https://maps.app.goo.gl/kM3h1R6F8J7n5P9G9", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3239.757827807755!2d139.7719601762494!3d35.70763562266851!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188e9508823269%3A0x684c98e75a3424d6!2z5Lqs5oiQ5LiK6YeO6aeF!5e0!3m2!1szh-TW!2stw!4v1718860265147!5m2!1szh-TW!2stw"}},
                    { time: "21:10", icon: "ğŸ›«", title: "æ­ä¹˜é…·èˆªTR871è¿”èˆª", description: "è¾¦ç†ç™»æ©Ÿæ‰‹çºŒï¼Œæ»¿è¼‰ç¾å¥½å›æ†¶è¿”å›å°ç£ã€‚", details: {type:"info", text:"ç­æ©Ÿæ–¼æˆç”°æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆèµ·é£›ã€‚", gmapLink: "https://maps.app.goo.gl/TjV1UuYt9wXv4eKx5", gmapEmbed: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3230.468205421528!2d140.3838568762594!3d35.93510532454687!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6022f183b1e3286d%3A0x242498e8338b1d9!2z5oiQ55Sw55u46ZmdIOeUouS4i-W6lyAxIOaWh-aWsA!5e0!3m2!1szh-TW!2stw!4v1718854897262!5m2!1szh-TW!2stw"}}
                ]
            }
        ];

        const app = {
            init() {
                this.renderNav();
                this.renderItinerary();
                this.setupEventListeners();
                this.observeSections();
            },
            renderNav() {
                const navContainer = document.getElementById('nav-buttons-container');
                navContainer.innerHTML = itineraryData.map(day => `
                    <button data-day="${day.day}" class="nav-button px-4 py-2 text-sm font-medium text-stone-600 bg-white rounded-full shadow-sm hover:bg-teal-500 hover:text-white">
                        Day ${day.day}
                    </button>
                `).join('');
            },
            renderItinerary() {
                const itineraryContainer = document.getElementById('itinerary-container');
                itineraryContainer.innerHTML = itineraryData.map(day => `
                    <section id="day-${day.day}" class="mb-12">
                        <h2 class="text-3xl font-bold text-stone-800 mb-1 sticky top-20 bg-stone-100/80 backdrop-blur-sm py-2 z-0">Day ${day.day}: ${day.title}</h2>
                        <p class="text-lg text-teal-600 font-semibold mb-6">${day.date} - ${day.city}</p>
                        <div class="space-y-4">
                            ${day.events.map(event => this.createEventCard(event)).join('')}
                        </div>
                    </section>
                `).join('');
            },
            createEventCard(event) {
                const hasDetails = event.details && (event.details.text || (event.details.options && event.details.options.length > 0) || event.details.gmapLink || (event.details.transport && event.details.transport.length > 0) );
                return `
                    <div class="bg-white rounded-xl shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 ${hasDetails ? 'cursor-pointer' : ''}" ${hasDetails ? `onclick="app.openModal(this)"` : ''}
                         data-title="${event.title}" 
                         data-description="${event.description}"
                         data-details='${JSON.stringify(event.details || {})}'>
                        <div class="flex items-center p-4">
                            <div class="flex-shrink-0 w-20 text-center">
                                <p class="text-2xl">${event.icon}</p>
                                <p class="text-sm font-semibold text-stone-700 mt-1">${event.time}</p>
                            </div>
                            <div class="ml-4 flex-grow">
                                <h3 class="text-lg font-bold text-stone-800">${event.title}</h3>
                                <p class="text-stone-600 mt-1">${event.description}</p>
                            </div>
                            ${hasDetails ? `
                            <div class="ml-4 flex-shrink-0">
                                <svg class="w-6 h-6 text-teal-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>` : ''}
                        </div>
                    </div>
                `;
            },
            openModal(element) {
                const title = element.dataset.title;
                const description = element.dataset.description;
                const details = JSON.parse(element.dataset.details);
                const modal = document.getElementById('modal');
                const modalBody = document.getElementById('modal-body');

                let detailsHtml = `
                    <h3 class="text-2xl font-bold text-teal-700 mb-2">${title}</h3>
                    <p class="text-stone-600 mb-4">${description}</p>
                `;

                if (details.image) {
                    detailsHtml += `<img src="${details.image}" alt="${title}" class="w-full h-auto max-h-64 object-cover rounded-lg mb-4">`;
                }
                
                if (details.text) {
                    detailsHtml += `<div class="prose max-w-none text-stone-700 mb-4">${details.text.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig, '<a href="$1" target="_blank" class="text-teal-600 hover:underline">$1</a>')}</div>`;
                }

                if (details.transport && details.transport.length > 0) {
                    detailsHtml += '<h4 class="text-lg font-semibold mt-4 mb-2 text-stone-800">äº¤é€šæŒ‡å—</h4><ol class="list-decimal list-inside space-y-2 text-stone-700 mb-4">';
                    details.transport.forEach(step => {
                        detailsHtml += `<li>${step}</li>`;
                    });
                    detailsHtml += '</ol>';
                }

                if (details.type === 'food' && details.options) {
                    detailsHtml += '<h4 class="text-lg font-semibold mt-4 mb-2 text-stone-800">æ¨è–¦é¤å»³ï¼š</h4><ul class="space-y-2 mb-4">';
                    details.options.forEach(opt => {
                        detailsHtml += `
                            <li class="flex items-center">
                                <span class="text-teal-600 mr-2">ğŸœ</span>
                                <a href="${opt.link}" target="_blank" class="text-blue-600 hover:underline">${opt.name}</a>
                                ${opt.gmapLink ? `<a href="${opt.gmapLink}" target="_blank" class="ml-2 text-xs text-stone-500 hover:text-teal-600">(åœ°åœ–)</a>` : ''}
                            </li>`;
                    });
                    detailsHtml += '</ul>';
                }

                if (details.gmapEmbed) {
                    detailsHtml += `
                        <div class="mt-4">
                            <h4 class="text-lg font-semibold mb-2 text-stone-800">åœ°åœ–ä½ç½®</h4>
                            <div class="map-container">
                                <iframe src="${details.gmapEmbed}" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            </div>
                            <a href="${details.gmapLink}" target="_blank" class="inline-block mt-2 text-sm text-teal-600 hover:underline">åœ¨ Google åœ°åœ–ä¸­é–‹å•Ÿ &rarr;</a>
                        </div>
                    `;
                }

                modalBody.innerHTML = detailsHtml;
                modal.classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
                
                setTimeout(() => {
                    document.getElementById('modal-backdrop').classList.remove('opacity-0');
                    document.getElementById('modal-content').classList.remove('scale-95');
                }, 10);
            },
            closeModal() {
                const modal = document.getElementById('modal');
                document.getElementById('modal-backdrop').classList.add('opacity-0');
                document.getElementById('modal-content').classList.add('scale-95');
                
                setTimeout(() => {
                    modal.classList.add('hidden');
                    document.body.classList.remove('overflow-hidden');
                }, 300);
            },
            setupEventListeners() {
                document.getElementById('modal-close-button').addEventListener('click', this.closeModal);
                document.getElementById('modal-backdrop').addEventListener('click', this.closeModal);
                document.getElementById('nav-buttons-container').addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        const day = e.target.dataset.day;
                        document.getElementById(`day-${day}`).scrollIntoView({ behavior: 'smooth' });
                    }
                });
            },
            observeSections() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const day = entry.target.id.split('-')[1];
                            const navButton = document.querySelector(`.nav-button[data-day='${day}']`);
                            document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
                            navButton.classList.add('active');
                            navButton.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                        }
                    });
                }, { rootMargin: '-40% 0px -60% 0px' });

                document.querySelectorAll('section[id^="day-"]').forEach(section => {
                    observer.observe(section);
                });
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>
